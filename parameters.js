//GLOBAL VARIABLES
//TODO: put separate functions in their own files?

var boxWidth = 60;
var boxHeight = boxWidth * 5/6;
	var topLeftX = 30;
var topLeftY = 20;
var symbolSize = boxWidth/2.5;
var symbolThickness = 0;
var atomicNumberSize = boxWidth/6;
var boxOnThickness = 5;
var boxOffThickness = 2;

//ON/OFF TOGGLES
var boxxToggle = true;
var beatToggle = true;

//CAPTIONS
var captionSize = 50;
var r = (255, 0, 0, 255);
var g = (200, 255, 200, 0);
var captionColourThree = (255, 255, 255, 100);
var captionX = 0.9;
var charWidthCorrection = 0.4;
var captionAlign = 'right';
var rightAlign = 1000;
var leftBuffer = 50;
var captionYcoord = 600;

//CAPTION BOXXES
var boxxWidthCorrection = 0.4;
var boxxHeight = captionSize * 1.2;
var boxxYcoord = captionYcoord - 10;
var boxxElementCF = 2;
var boxxElementSize = 10;


//*****TIMING VARIABLES*****//

//160bpm = 8/3 beats per second
//8 beats = 3 seconds = 72 frames
//9 frames/beat

var bpm = 20;
var secsPerMin = 60;
var framesPerBeat = 24 * secsPerMin / bpm;
var startAheadBy = 300;

elementList = ["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al",
        "Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn",
        "Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb",
        "Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In",
        "Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm",
        "Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta",
        "W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At",
        "Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk",
        "Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt",
        "Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"];

var charWidthsAlpha = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',',', "'",'!','"','Ã©','*','(',')'];
var charWidthsNum = [75,75,68,75,75,36,75,75,30,30,67,30,113,75,75,75,75,45,67,38,75,68,98,68,68,68,90,90,98,98,90,83,105,98,38,68,90,75,113,98,105,90,105,98,90,83,98,90,128,90,90,83,38,38,38,49,75,53,46,46];

        
//3-dimensional array
//  1. symbol
//  2. starting beat
//  3. duration
//*****TODO: MAKE A STACK OR SOMETHING TO KEEP TRACK OF WHICH WORDS ARE UP ON THE SCREEN AND THEN USE A COMMAND LIKE "clear" TO CLEAR THE STACK
//lyrics for LaVOISiEr'S FUNK,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
var lyrics = [[3,16,52,7,92,61,99,95,53,16,119,15,8,92,88,6,92,15,32,73,34,85,119,90,68,99.1,47,92,39,119,74,1,8,74,33,75,23,8,71,22,8,7,18,39,119,5,92,81,53,16,52,7,119,7,8,5,8,66,19,102,74,16,119,1,53,50,95,99,8,119,53,90,49,19,39,8,92.2,75,74,8,60,68,49.2,119,8,8,1,119,53,19,7,8,74,39,8,92.2,75,15,8,60,68,49.2,119,74,1,8,119,53,16,90,53,106,92,39,119,102,3,99,8,114,39,119,53,20,7,23,68,53,9,39,119,3,16,52,7,92,78,119,78,2,9,92,7,19,39,9,92,7,19,119,8,9,57,23,8,53,14,68,119,85,88,6,19,33,1,8,73,16,56,11,10,16,114,95,4.4,16,119,9,92,7,19,39,9,92,7,19,119,8,9,57,23,8,53,14,68,119,85,88,6,19,90,85.2,106,8,73,62,92,6,1,16,8,92,57,119,57,62,99,16,8,92,3,68,16,119,5,8,86,49,15,18,53,16,49,119,17,43,57,23,8,53,14,68,119,53,16,102,74,19,7,8,74,7,33,119,1,92,1.5,119,9,85,1,68,8,9,119,89,68,73,49,5,88,7,6,1,8,9.6,92,1.6,15.7,1,39,14,55.8,119,39,8,92,19,7,8,74.6,92,109.9,2,8,10,74,53,90,119,92,109.9,2,8,10,74,53,90,119,89,53,110,56,34,16,75,89,22,8,7,16,119,56,34,16,89,53,110,15,1,21,13,99,119,13,16,8,5,92,75,117,119,39,99.6,5,92,75,117.5,119,53,90,49,19,39,8,92,19,7,8,74,74,1,53,6,1,5,88,7,6,1,8,9,119,15.7,1,39,14,55.8,119,53.2,109,13,19,53,11.1,5,8,92,90,92,1.5,119,90,53,106,92,39,53,16,1,92,7,19,39,119,8,8,1,119,90,53,16,4,85,53,16,9,92,7,19,39,119,3,16,52,7,92,78.3,119,78,2,53,8,28,6,9,92,7,19,119,8,9,57,23,8,53,14,68,119,85,88,6,19,33,1,8,73,16,79,23,88,39.15,119,53,8,28,6,9,92,7,19,119,8,9,57,23,8,53,14,68,119,85,88,6,19,90,85.2,106,8,73,62,92,6,1,16,8,92,57,119,57,62,99,16,8,92,3,68,16,119,7,8,74,16,19,53,78,8,119,17,73,119,74,2,7,39,8,92,5,92,86,85,1,53,7,31,60,119,39,8,92,94,22,22,11,102,90,68,90,49,31,60,119,39,8,92,15,57,58,5,8,90,119,8,11,21,13,99,8,119,39,8,92,20,7,119,39,8,92,20,7,119,39,8,92,20,7,119,39,8,92,20,7,119,33,6,68,73,49,119,90,53,16,24,92,6,53,13,9,89,69,33,34,106,8,7,11,4,119,90,99,95,99,95,99,95,99,53,99,119,63,75,19,85.3,2,119,57,74,8,9,27,7,16,68,23,85,53,8,7,8,100,33,16,119,63,75,19,85.3,2,119,57,74,8,9,27,7,16,68,23,85,53,8,7,8,100,33,16,119,63,75,19,85.3,2,119,57,74,8,9,27,7,16,68,23,85,53,8,7,8,100,33,16,119,8.25,100,33,16.35,119,74,1,8,74,33,90,85,119,74.25,1,8,74,33,90,85.35,119,8,1,119,96.1,8,7,119,39,8,92,19,7,8,74,119,53,19,7,8,74,39,8,92,19,7,8,74,74,1,8,90,85,74,33,119,3,16,52,7,92,78,119,78,2,53,8,28,6,9,92,7,19,119,8,9,57,23,8,53,14,68,119,85,88,6,19,33,1,8,73,16,79,23,88,39.15,119,53,8,28,6,9,92,7,19,119,8,9,57,23,8,53,14,68,119,85,88,6,19,90,85.2,106,8,73,62,92,6,1,16,8,92,57,119,57,62,99,16,8,92,3,68,16,119,7,8,74,16,19,53,78,8,17,94,119,90,53,106,92,39,15.7,18,22,6,53,15,85,99.8,49,57,75,23,8,71,22,8,7,119,2,15,75,6,53,15,53,73,52,16,75,13,16,8,71,22,8,7,16,119,5,92,73,57,16,119,57,23,8,53,14,68.2,106,8,73,26,74,9,8,99,119,16,8,92,78,8,6,1,8,15,15,39,115,6,1,8,15,15,68,119,8,92,45,68,118,8,99,119,2,75,14,16,117,119,5,92,73,57,16,119,53,117.1,102,92,34,102,10,119,90,53,16,34,7,52,7,58,2,2,18,16,119,4,9,8,75,1,53,34,54,29,22,8,7,119,16.7,73,52,79,75,23,8,77,85,39,8,92,19,53,110,39,8,92,74,53,26.8,119,16,8,2,15,92,117,57,23,8,53,14,68,92,60,68,90,99,53,116,68,19,28,26,119,19,19,19,1,1.5,119,74,1,8,53,16,90,53,106,92,39,119,102,3,99,8,114,39,119,53,20,7,23,68,53,9,39,119,3,16,52,7,92,78.3], 
[1,1,1.5,1.5,2,2,3.5,4,4.5,4.5,9,9,9,9,9,10,10,10,11.5,11.5,12.5,12.5,17,17,17,17,17.5,18,18,19,19,19,19,19.5,19.5,20,20.5,20.5,21,21.5,21.5,21.5,22,22.5,23.5,23.5,23.5,23.5,24,24,24.5,24.5,25,25,25,25.5,25.5,26,26.5,26.5,26.5,26.5,27.5,27.5,27.5,27.5,28.5,28.5,32.5,33.5,33.5,34,34,34,34.5,34.5,34.5,34.5,35,35,35,35.5,35.5,36.5,36.5,36.5,36.5,37.5,37.5,38,38,38,38,38.5,38.5,38.5,38.5,39,39,39,39.5,39.5,40.5,40.5,40.5,40.5,41.5,41.5,41.5,42,42,42,42.5,42.5,43.5,43.5,44,44,45,45.5,45.5,46.5,46.5,46.75,46.75,47,47,47.25,47.5,47.5,49,49,49,49.5,49.5,50,50,56,56,56,56.5,56.5,56.5,57,57,57.5,57.5,57.5,57.5,59.5,59.5,59.5,60,60.5,60.5,60.5,61,61.5,64,64,64.5,64.5,64.5,65,65.5,65.5,65.5,67.5,68,68.5,68.5,68.5,69,69,69.5,69.5,72.5,72.5,72.5,72.5,73,73,73.5,73.5,73.5,73.5,75.5,75.5,75.5,76,76.5,76.5,76.5,77,77.5,78.5,78.5,79,79,79,79.5,79.5,79.5,80,80,80.5,81,81,81,81.5,81.5,81.5,81.5,83.5,83.5,83.5,84,84.5,84.5,84.5,85,85.5,85.5,89,89,89,89,89.5,90,90,90.5,90.5,91.5,92,92,93,98.5,99,99,99,99.5,100.5,101.5,101.5,101.5,102.5,102.5,103.5,103.5,103.5,103.5,103.5,104.5,106,106,106,106,107,107,107,107.5,107.5,108.5,108.5,109.5,109.5,110.5,111.5,111.5,112.5,112.5,112.5,112.5,112.5,114,114,115.5,115.5,116.5,116.5,116.5,117,117,118.5,118.5,118.5,118.5,119,119,119,119,120.5,120.5,121.5,122,122,122.5,122.5,122.5,124,124,124,125.5,126.5,126.5,127.5,127.5,127.5,128.5,128.5,130,130,131,132,132,134.5,135,135.5,135.5,135.5,135.5,137,137,138,138,139,140,140,142.5,143,143.5,143.5,143.5,145,145,146,146,146.5,146.5,147,147,149,149,149,150,150,150.5,150.5,153.5,153.5,154,154,154,154.5,154.5,154.5,155,155,155,155,155.5,155.5,155.5,155.5,155.5,156,156,156,156,156,156.5,156.5,157,157,157,157,157.5,157.5,158,158,158,158.5,158.5,159,159.5,160,160,160,160,160.5,160.5,161.5,161.5,161.5,161.5,162,162,162.5,162.5,163,163,163,163.5,163.5,164.5,164.5,164.5,164.5,165.5,165.5,165.5,165.5,166,166,166.5,166.5,167,167,167,167.5,167.5,168.5,168.5,168.5,169,169,169.5,169.5,175.5,175.5,175.5,176,176.5,177,177,177.5,177.5,177.5,177.5,179.5,179.5,179.5,180,180.5,180.5,180.5,181,181.5,184,184,184.5,184.5,184.5,185,185.5,185.5,185.5,187.5,188,189,189.5,189.5,192,192,192.5,193,193,193.5,193.5,193.5,193.5,195.5,195.5,195.5,196,196.5,196.5,196.5,197,197.5,198.5,198.5,199,199,199,199.5,199.5,199.5,200,200,200.5,201,201,201,201.5,201.5,201.5,201.5,203.5,83.5,203.5,204,204.5,204.5,204.5,205,205.5,205.5,209,209,209,209,210.5,210.5,210.5,210.5,211.5,212,212,213,218,218,218,218,218.5,218.5,218.5,219,219,219,219.5,220.5,220.5,220.5,220.5,222,222.5,222.5,222.5,222.5,223,223,223.5,224,225,225.5,225.5,226,226,226,227.5,228,228,228,228,228.5,228.5,228.5,229.5,229.5,229.5,230.5,230.5,230.5,231.5,231.5,231.5,232.5,233,233,233,233,233.5,233.5,234,234,234,234,234.5,234.5,235,235,235,235,235.5,235.5,236,236,236,236,236.5,236.5,237,237,237.5,237.5,238.5,238.5,239.5,239.5,239.5,239.5,240,240,240.5,240.5,240.5,241,241,241,242,242.5,242.5,243,243,243.5,244,244.5,244.5,244.5,245,245,246,246,247,247,248,248,250.5,250.5,251,251.5,251.5,252.5,253,253,253,253.5,253.5,254,254,254.5,254.5,255,255,255.5,255.5,255.5,256,256,256.5,256.5,258.5,258.5,259,259.5,259.5,260.5,261,261,261,261.5,261.5,262,262,262.5,262.5,263,263,263.5,263.5,263.5,264,264,264.5,264.5,266.5,266.5,267,267.5,267.5,268.5,269,269,269,269.5,269.5,270,270,270.5,270.5,271,271,271.5,271.5,271.5,272,272,272.5,272.5,274,274,274,274.5,274.5,275.5,275.5,275.5,275.5,276,276,276.5,276.5,277.5,277.5,277.5,277.5,278,278,278.5,278.5,280.5,280.5,280.5,281.5,281.5,282,282,283,283,283,283,283.5,283.5,283.5,283.5,284.5,284.5,285,285,285,285,285.5,285.5,285.5,286,286,286,286,286.5,286.5,286.5,287,287,287.5,287.5,289,289,289,289.5,289.5,290,290,295.5,295.5,295.5,296,296.5,297,297,297.5,297.5,297.5,297.5,299.5,299.5,299.5,300,300.5,300.5,300.5,301,301.5,304,304,304.5,304.5,304.5,305,305.5,305.5,305.5,307.5,308,309,309.5,309.5,312,312,312.5,313,313,313.5,313.5,313.5,313.5,315.5,315.5,315.5,316,316.5,316.5,316.5,317,317.5,318.5,318.5,319,319,319,319.5,319.5,319.5,320,320,320.5,321,321,321,321.5,321.5,321.5,321.5,323.5,83.5,323.5,324,324.5,324.5,324.5,325,325.5,325.5,329,329,329,329,330.5,330.5,330.5,330.5,331.5,332,333,335.5,335.5,335.5,335.5,336,336,336.5,336.5,337,337.5,337.5,338,338,338,339.5,340,340.5,341,341,341.5,342,342,342,343.5,343.5,344,344,344.5,344.5,345,345,345.5,345.5,345.5,348.5,348.5,349,349,349.5,350,350,350,350,351.5,351.5,351.5,351.5,352.5,352.5,353.5,353.5,354,354,354,354.5,355,355,355.5,355.5,356.5,356.5,357.5,357.5,357.5,359.5,359.5,359.5,360,360,360.5,361,361,361,361,361.5,361.5,362,362.5,362.5,362.5,362.5,363,363,364,364,364,364,365,366,366.5,366.5,369,369,369.5,370.5,370.5,370.5,371.5,371.5,371.5,371.5,372.5,372.5,373.5,373.5,373.5,374,374.5,374.5,375.5,375.5,376.5,376.5,376.5,376.5,377,377,377.5,377.5,377.5,378,378.5,378.5,378.5,379.5,379.5,380,380,380,380.5,380.5,380.5,381.5,382.5,383.5,383.5,383.5,385,385,385,385,385.5,386,386.5,386.5,386.5,387.5,388,388,388,388.5,388.5,388.5,390,390,390,390.5,390.5,390.5,391.5,391.5,391.5,392,392.5,392.5,392.5,393,393.5,393.5,393.5,394,394.5,395,395,395.5,396,396,396.5,396.5,397.5,398,398,398,399.5,399.5,399.5,399.5,399.5,399.5,401,401,401,401,401.5,401.5,402,402,402,402.5,402.5,403.5,403.5,404,404,405,405.5,405.5,406.5,406.5,406.75,406.75,407,407,407.25,407.5,407.5,409,409,409,409.5,409.5,410,410], 
[11,1,11,1,2,21,11,22,2,2,0,1,1,1,12,1,1,1,22,21,22,22,0,11,11,111,21,1,1,0,2,2,2,1,11,22,2,2,22,22,2,2,22,2,0,1,1,12,2,2,22,2,0,1,1,1,1,11,2,22,2,2,0,1,1,12,22,21,1,0,2,11,11,1,2,2,22,22,1,1,11,11,111,0,2,2,2,0,1,2,2,2,2,1,1,11,11,2,2,22,22,222,0,1,1,1,0,2,2,11,1,12,2,2,0,11,22,21,1,22,2,0,1,22,2,1,11,1,1,1,0,22,2,22,2,1,13,0,31,11,2,2,2,2,2,1,1,1,1,0,2,2,11,1,1,1,11,11,0,21,11,1,1,22,1,1,12,2,11,11,11,1,22,22,22,2,0,1,1,1,1,1,2,2,2,2,0,1,1,22,2,2,2,22,22,0,12,22,2,2,11,111,12,2,21,12,2,2,2,1,1,1,13,0,32,21,11,2,2,2,22,22,2,0,1,1,11,22,1,11,1,1,22,0,11,11,22,2,2,2,22,22,0,1,1,22,2,1,1,1,1,1,22,0,1,1,1,0,2,22,2,22,1,1,0,21,11,11,11,2,22,2,2,2,1,11,2,2,11,1,1,11,111,0,2,2,2,1,1,1,11,2,221,11,2,22,1,1,11,0,2,221,11,2,22,1,1,11,0,22,2,22,11,11,1,22,22,22,2,2,2,0,11,11,1,22,2,22,1,1,22,22,22,0,11,1,1,2,2,22,22,0,1,111,2,2,22,222,0,1,22,22,2,1,1,1,2,2,2,2,1,1,1,1,1,2,22,2,2,2,1,1,0,22,2,2,22,222,0,11,12,22,2,2,221,1,1,1,12,2,22,0,11,1,12,2,2,1,1,2,2,2,2,2,0,1,1,1,0,22,2,2,11,11,2,2,1,1,1,1,1,0,22,2,22,2,1,113,0,31,11,2,2,22,2,1,1,1,1,0,2,2,11,1,1,1,11,11,0,21,11,1,1,22,1,1,12,2,12,2,11,11,0,2,2,22,2,1,1,1,1,0,2,2,11,1,1,1,11,11,0,21,11,1,1,22,222,21,1,12,21,1,1,1,2,2,2,23,0,31,12,22,1,1,1,11,11,1,0,2,2,2,1,1,1,12,2,0,11,11,0,2,22,2,1,1,1,2,2,22,12,2,2,2,21,11,0,2,2,2,11,12,21,12,22,22,22,11,11,12,22,0,1,1,1,2,22,22,1,1,11,0,2,21,22,22,21,1,0,2,2,2,11,1,0,2,2,2,11,1,0,2,2,2,11,1,0,2,2,2,11,1,0,22,2,22,22,22,0,11,1,1,22,2,2,2,22,1,11,12,22,22,21,1,1,11,22,0,11,12,22,21,11,12,22,22,2,22,0,11,11,1,112,22,0,11,1,2,2,11,1,1,11,1,11,1,1,1,2,21,11,1,0,11,11,1,112,22,0,11,1,2,2,11,1,1,11,1,11,1,1,1,2,21,11,1,0,11,11,1,112,22,0,11,1,2,2,11,1,1,11,1,11,1,1,1,2,21,11,1,0,22,21,11,11,0,2,2,2,1,11,22,22,0,11,1,1,2,22,11,111,0,2,2,0,111,1,1,0,2,2,2,1,1,1,1,0,2,1,1,1,1,2,2,2,1,1,1,1,2,2,2,11,11,2,22,0,11,1,11,1,2,23,0,31,11,2,2,22,2,1,1,1,1,0,2,2,11,1,1,1,11,11,0,21,11,1,1,22,1,1,12,2,12,2,11,11,0,2,2,22,2,1,1,1,1,0,2,2,11,1,1,1,11,11,0,21,11,1,1,22,222,21,1,12,21,1,1,1,2,2,2,23,0,31,12,22,1,1,1,11,11,1,0,2,2,2,1,1,1,12,2,11,11,0,22,2,21,1,1,22,22,22,2,2,2,22,222,11,22,11,1,1,11,11,1,1,0,22,1,11,1,1,1,1,11,11,1,22,22,1,1,11,11,1,1,1,0,2,2,21,11,1,0,22,2,2,2,22,222,21,1,12,11,1,2,2,22,0,1,1,2,21,1,2,2,2,2,2,2,11,1,1,1,1,1,11,0,2,2,21,11,12,2,22,0,11,22,22,2,22,0,1,1,12,22,2,0,1,111,22,1,11,22,22,0,11,1,1,22,2,22,2,22,11,22,22,2,0,11,1,1,11,2,2,21,11,11,11,1,1,0,22,22,22,11,22,2,2,22,11,2,2,2,1,1,11,2,2,2,1,1,111,0,2,2,11,2,2,22,11,1,1,1,11,11,2,22,22,11,12,2,22,22,1,11,11,0,2,2,2,2,22,0,1,1,1,2,2,11,1,12,2,2,0,11,22,21,1,22,2,0,1,22,2,1,11,1,1,1,0,22,2,22,2,1,113]];//,




